[{"F:\\Others-works\\bus-e-ticketing\\src\\App.tsx":"1","F:\\Others-works\\bus-e-ticketing\\src\\index.tsx":"2","F:\\Others-works\\bus-e-ticketing\\src\\reportWebVitals.ts":"3","F:\\Others-works\\bus-e-ticketing\\src\\components\\SearchBar\\SearchBar.tsx":"4","F:\\Others-works\\bus-e-ticketing\\src\\components\\SearchResults\\SearchResults.tsx":"5","F:\\Others-works\\bus-e-ticketing\\src\\components\\SearchResults\\SingleResult.tsx":"6","F:\\Others-works\\bus-e-ticketing\\src\\components\\Seat\\Seat.tsx":"7","F:\\Others-works\\bus-e-ticketing\\src\\components\\SeatInfo\\SeatInfo.tsx":"8","F:\\Others-works\\bus-e-ticketing\\src\\components\\BookingModal\\BookingModal.tsx":"9"},{"size":2989,"mtime":1608101267452,"results":"10","hashOfConfig":"11"},{"size":547,"mtime":1608061142958,"results":"12","hashOfConfig":"11"},{"size":425,"mtime":1608019192805,"results":"13","hashOfConfig":"11"},{"size":3735,"mtime":1608101416913,"results":"14","hashOfConfig":"11"},{"size":690,"mtime":1608101584252,"results":"15","hashOfConfig":"11"},{"size":5393,"mtime":1608101544199,"results":"16","hashOfConfig":"11"},{"size":739,"mtime":1608071118302,"results":"17","hashOfConfig":"11"},{"size":1244,"mtime":1608069184766,"results":"18","hashOfConfig":"11"},{"size":4430,"mtime":1608098479826,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"9ukfny",{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"24"},"F:\\Others-works\\bus-e-ticketing\\src\\App.tsx",["40"],"F:\\Others-works\\bus-e-ticketing\\src\\index.tsx",[],["41","42"],"F:\\Others-works\\bus-e-ticketing\\src\\reportWebVitals.ts",[],"F:\\Others-works\\bus-e-ticketing\\src\\components\\SearchBar\\SearchBar.tsx",[],"F:\\Others-works\\bus-e-ticketing\\src\\components\\SearchResults\\SearchResults.tsx",[],"F:\\Others-works\\bus-e-ticketing\\src\\components\\SearchResults\\SingleResult.tsx",[],"F:\\Others-works\\bus-e-ticketing\\src\\components\\Seat\\Seat.tsx",[],"F:\\Others-works\\bus-e-ticketing\\src\\components\\SeatInfo\\SeatInfo.tsx",[],"F:\\Others-works\\bus-e-ticketing\\src\\components\\BookingModal\\BookingModal.tsx",["43","44","45"],"import React, { useEffect, useState, useContext } from 'react';\r\nimport { Button, Modal } from 'react-bootstrap';\r\nimport Swal from 'sweetalert2';\r\nimport { BookingContext } from '../../App';\r\n\r\ninterface Props {\r\n    busId: string,\r\n    seatNumber: string\r\n}\r\n\r\nconst BookingModal: React.FC<Props> = ({ busId, seatNumber }) => {\r\n\r\n    const [show, setShow] = useState<boolean>(false);\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n    const [formData, setFormData] = useState({ name: \"\", email: \"\", gender: \"\" })\r\n    const { bookSeat } = useContext(BookingContext);\r\n\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        setFormData({ ...formData, [e.target.name]: e.target.value })\r\n    }\r\n    \r\n    const olderBookings: any = localStorage.getItem('bookings');\r\n    const parsedOldBookings: any = (olderBookings && JSON.parse(olderBookings)) || [];\r\n\r\n    const seatPairNumber = seatNumber?.split('-')[0];\r\n\r\n    const makeBooking = () => {\r\n        const genderMismatch: any = parsedOldBookings.find((booking: any) => {\r\n            return booking.seatNumber.includes(seatPairNumber) && booking.gender === 'female' && formData.gender !== 'female'\r\n        })\r\n        const validEmailPattern = /^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$/;\r\n        \r\n        if(!validEmailPattern.test(formData.email) ) {\r\n            return Swal.fire(\"\", 'Valid Email address required!', 'info')\r\n        }else if(!formData.gender) {\r\n            return Swal.fire(\"\", 'Gender filed is mandatory!', 'info')\r\n        }else if (genderMismatch) {\r\n            handleClose()\r\n            return Swal.fire(\"Can't Book the seat\", '', 'error')\r\n        }\r\n        handleClose();\r\n        bookSeat(busId, seatNumber, formData.gender)\r\n        \r\n    }\r\n    return (\r\n        <div>\r\n            <div className=\"text-center\">\r\n                {\r\n                    (!parsedOldBookings.find((booking: any) => booking.seatNumber === seatNumber && booking.busId === busId) && seatNumber) &&\r\n                    <Button onClick={handleShow}> Book Now</Button>\r\n                }\r\n            </div>\r\n\r\n            <Modal\r\n                show={show}\r\n                onHide={handleClose}\r\n                backdrop=\"static\"\r\n                keyboard={false}\r\n                centered\r\n            >\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Passenger Info</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"exampleInputEmail1\">Name</label>\r\n                        <input onChange={handleChange} type=\"name\" name=\"name\" className=\"form-control\" placeholder=\"Enter Name\" />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"exampleInputPassword1\">Email</label>\r\n                        <input onChange={handleChange}  type=\"email\" name=\"email\" className=\"form-control\" placeholder=\"Enter Email\" />\r\n                    </div>\r\n                    <div className=\"gender-selection\">\r\n                        <div>\r\n                            <label>Gender</label>\r\n\r\n                        </div>\r\n                        <div className=\"form-check form-check-inline\">\r\n                            <input onChange={handleChange} className=\"form-check-input\" type=\"radio\" name=\"gender\" id=\"inlineRadio1\" value=\"male\" />\r\n                            <label className=\"form-check-label\" htmlFor=\"inlineRadio1\">Male</label>\r\n                        </div>\r\n                        <div className=\"form-check form-check-inline\">\r\n                            <input onChange={handleChange} className=\"form-check-input\" type=\"radio\" name=\"gender\" id=\"inlineRadio2\" value=\"female\" />\r\n                            <label className=\"form-check-label\" htmlFor=\"inlineRadio2\">Female</label>\r\n                        </div>\r\n\r\n                    </div>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={handleClose}>\r\n                        Close\r\n                    </Button>\r\n                    <Button onClick={makeBooking} variant=\"primary\">Confirm</Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BookingModal;\r\n\r\n",{"ruleId":"46","severity":1,"message":"47","line":95,"column":6,"nodeType":"48","endLine":95,"endColumn":8,"suggestions":"49"},{"ruleId":"50","replacedBy":"51"},{"ruleId":"52","replacedBy":"53"},{"ruleId":"54","severity":1,"message":"55","line":1,"column":17,"nodeType":"56","messageId":"57","endLine":1,"endColumn":26},{"ruleId":"58","severity":1,"message":"59","line":32,"column":51,"nodeType":"60","messageId":"61","endLine":32,"endColumn":52,"suggestions":"62"},{"ruleId":"58","severity":1,"message":"59","line":32,"column":71,"nodeType":"60","messageId":"61","endLine":32,"endColumn":72,"suggestions":"63"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetchBookings'. Either include it or remove the dependency array.","ArrayExpression",["64"],"no-native-reassign",["65"],"no-negated-in-lhs",["66"],"@typescript-eslint/no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","no-useless-escape","Unnecessary escape character: \\..","Literal","unnecessaryEscape",["67","68"],["69","70"],{"desc":"71","fix":"72"},"no-global-assign","no-unsafe-negation",{"messageId":"73","fix":"74","desc":"75"},{"messageId":"76","fix":"77","desc":"78"},{"messageId":"73","fix":"79","desc":"75"},{"messageId":"76","fix":"80","desc":"78"},"Update the dependencies array to be: [fetchBookings]",{"range":"81","text":"82"},"removeEscape",{"range":"83","text":"84"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"85","text":"86"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"87","text":"84"},{"range":"88","text":"86"},[2716,2718],"[fetchBookings]",[1290,1291],"",[1290,1290],"\\",[1310,1311],[1310,1310]]